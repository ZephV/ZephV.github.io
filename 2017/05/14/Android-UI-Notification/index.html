<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="AndroidNote,UI,Notification," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="摘录自官方文档 通知是您可以在应用的常规 UI 外部向用户显示的消息。当您告知系统发出通知时，它将先以图标的形式显示在通知区域中。用户可以打开抽屉式通知栏查看通知的详细信息。 通知区域和抽屉式通知栏均是由系统控制的区域，用户可以随时查看。 创建通知您可以在NotificationCompat.Builder对象中为通知指定UI信息和操作。要创建通知，请调用NotificationCompat.Bu">
<meta name="keywords" content="AndroidNote,UI,Notification">
<meta property="og:type" content="article">
<meta property="og:title" content="Android UI — Notification通知">
<meta property="og:url" content="https://zephv.github.io/2017/05/14/Android-UI-Notification/index.html">
<meta property="og:site_name" content="Ideology">
<meta property="og:description" content="摘录自官方文档 通知是您可以在应用的常规 UI 外部向用户显示的消息。当您告知系统发出通知时，它将先以图标的形式显示在通知区域中。用户可以打开抽屉式通知栏查看通知的详细信息。 通知区域和抽屉式通知栏均是由系统控制的区域，用户可以随时查看。 创建通知您可以在NotificationCompat.Builder对象中为通知指定UI信息和操作。要创建通知，请调用NotificationCompat.Bu">
<meta property="og:updated_time" content="2017-05-15T15:54:57.823Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android UI — Notification通知">
<meta name="twitter:description" content="摘录自官方文档 通知是您可以在应用的常规 UI 外部向用户显示的消息。当您告知系统发出通知时，它将先以图标的形式显示在通知区域中。用户可以打开抽屉式通知栏查看通知的详细信息。 通知区域和抽屉式通知栏均是由系统控制的区域，用户可以随时查看。 创建通知您可以在NotificationCompat.Builder对象中为通知指定UI信息和操作。要创建通知，请调用NotificationCompat.Bu">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zephv.github.io/2017/05/14/Android-UI-Notification/"/>





  <title> Android UI — Notification通知 | Ideology </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ideology</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Studying knowledge needs thinking again and again.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://zephv.github.io/2017/05/14/Android-UI-Notification/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZephV">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ideology">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Android UI — Notification通知
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-14T08:24:46+08:00">
                2017-05-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>摘录自<a href="https://developer.android.google.cn/guide/topics/ui/notifiers/notifications.html" target="_blank" rel="external">官方文档</a></p>
<p>通知是您可以在应用的常规 UI 外部向用户显示的消息。当您告知系统发出通知时，它将先以图标的形式显示在<strong>通知区域</strong>中。用户可以打开<strong>抽屉式通知栏</strong>查看通知的详细信息。 通知区域和抽屉式通知栏均是由系统控制的区域，用户可以随时查看。</p>
<h2 id="创建通知"><a href="#创建通知" class="headerlink" title="创建通知"></a>创建通知</h2><p>您可以在<code>NotificationCompat.Builder</code>对象中为通知指定UI信息和操作。要创建通知，请调用<code>NotificationCompat.Buider.build()</code>它将返回包含您的具体规范的Notification对象。要发出通知，请通过调用<code>NotificationManager.notify()</code>将Notification对象传递给系统。</p>
<h3 id="必须的通知内容"><a href="#必须的通知内容" class="headerlink" title="必须的通知内容"></a>必须的通知内容</h3><p>Notification对象必须包含一下内容：</p>
<ul>
<li>小图标 , 由<code>setSmallIcon()</code>设置</li>
<li>标题 , 由<code>setContentTitle()</code>设置</li>
<li>详细文本, 由<code>setContentText()</code>设置</li>
</ul>
<h3 id="可选通知内容设置"><a href="#可选通知内容设置" class="headerlink" title="可选通知内容设置"></a>可选通知内容设置</h3><p><a href="https://developer.android.google.cn/reference/android/support/v4/app/NotificationCompat.Builder.html" target="_blank" rel="external">NotificationCompat.Builder</a>参考</p>
<h3 id="通知操作"><a href="#通知操作" class="headerlink" title="通知操作"></a>通知操作</h3><p>尽管通知操作都是可选的，但是您至少应向通知添加一个操作。 操作允许用户直接从通知转到应用中的 <code>Activity</code>，他们可在其中查看一个或多个事件或执行进一步的操作。</p>
<p>一个通知可以提供多个操作。您应该始终定义一个当用户点击通知时会触发的操作；通常，此操作会在应用中打开 <code>Activity</code>。 您也可以向通知添加按钮来执行其他操作，例如，暂停闹铃或立即答复短信；</p>
<p>在 <code>Notification</code> 内部，操作本身由 <code>PendingIntent</code> 定义，后者包含在应用中启动 <code>Activity</code> 的 <code>Intent</code>。要将 <code>PendingIntent</code> 与手势相关联，请调用 <code>NotificationCompat.Builder</code> 的适当方法。例如，如果您要在用户点击抽屉式通知栏中的通知文本时启动<code>Activity</code>，则可通过调用 <code>setContentIntent()</code> 来添加 <code>PendingIntent</code>。</p>
<p>在用户点击通知时启动 <code>Activity</code> 是最常见的操作场景。此外，您还可以在用户清除通知时启动 <code>Activity</code>。在 Android 4.1 及更高版本中，您可以通过操作按钮启动 <code>Activity</code>。</p>
<h3 id="通知优先级"><a href="#通知优先级" class="headerlink" title="通知优先级"></a>通知优先级</h3><p>可以根据需要设置通知的优先级。优先级充当一个提示，提醒设备 UI 应该如何显示通知。 要设置通知的优先级，请调用 <code>NotificationCompat.Builder.setPriority()</code> 并传入一个 <code>NotificationCompat</code> 优先级常量。有五个优先级别，范围从 <code>PRIORITY_MIN</code> (-2) 到 <code>PRIORITY_MAX</code> (2)；如果未设置，则优先级默认为 <code>PRIORITY_DEFAULT</code> (0)。</p>
<h3 id="创建简单通知"><a href="#创建简单通知" class="headerlink" title="创建简单通知"></a>创建简单通知</h3><p>以下代码段说明了一个指定某项 Activity 在用户点击通知时打开的简单通知。 请注意，该代码将创建 <code>TaskStackBuilder</code> 对象并使用它来为操作创建 <code>PendingIntent</code>。<a href="https://developer.android.google.cn/guide/topics/ui/notifiers/notifications.html#NotificationResponse" target="_blank" rel="external">启动 Activity 时保留导航</a>部分对此模式做了更详尽的阐述：</p>
<p><a href="https://developer.android.google.cn/guide/topics/ui/notifiers/notifications.html#NotificationResponse" target="_blank" rel="external">启动 Activity 时保留导航</a>部分对此模式做了更详尽的阐述：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">NotificationCompat.Builder mBuilder =</div><div class="line">        new NotificationCompat.Builder(this)</div><div class="line">        .setSmallIcon(R.drawable.notification_icon)</div><div class="line">        .setContentTitle(&quot;My notification&quot;)</div><div class="line">        .setContentText(&quot;Hello World!&quot;);</div><div class="line">// Creates an explicit intent for an Activity in your app</div><div class="line">Intent resultIntent = new Intent(this, ResultActivity.class);</div><div class="line"></div><div class="line">// The stack builder object will contain an artificial back stack for the</div><div class="line">// started Activity.</div><div class="line">// This ensures that navigating backward from the Activity leads out of</div><div class="line">// your application to the Home screen.</div><div class="line">TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);</div><div class="line">// Adds the back stack for the Intent (but not the Intent itself)</div><div class="line">stackBuilder.addParentStack(ResultActivity.class);</div><div class="line">// Adds the Intent that starts the Activity to the top of the stack</div><div class="line">stackBuilder.addNextIntent(resultIntent);</div><div class="line">PendingIntent resultPendingIntent =</div><div class="line">        stackBuilder.getPendingIntent(</div><div class="line">            0,</div><div class="line">            PendingIntent.FLAG_UPDATE_CURRENT</div><div class="line">        );</div><div class="line">mBuilder.setContentIntent(resultPendingIntent);</div><div class="line">NotificationManager mNotificationManager =</div><div class="line">    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);</div><div class="line">// mId allows you to update the notification later on.</div><div class="line">mNotificationManager.notify(mId, mBuilder.build());</div></pre></td></tr></table></figure>
<h2 id="管理通知"><a href="#管理通知" class="headerlink" title="管理通知"></a>管理通知</h2><p>当您需要为同一类型的事件多次发出同一通知时，应避免创建全新的通知， 而是应考虑通过更改之前通知的某些值和/或为其添加某些值来更新通知。</p>
<h3 id="更新通知"><a href="#更新通知" class="headerlink" title="更新通知"></a>更新通知</h3>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/AndroidNote/" rel="tag"># AndroidNote</a>
          
            <a href="/tags/UI/" rel="tag"># UI</a>
          
            <a href="/tags/Notification/" rel="tag"># Notification</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/05/21/computer-English/" rel="next" title="computer English">
                <i class="fa fa-chevron-left"></i> computer English
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/14/AndroidNote-android-name-on-Manifest/" rel="prev" title="清单文件Manifest中的android:name">
                清单文件Manifest中的android:name <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="ZephV" />
          <p class="site-author-name" itemprop="name">ZephV</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ZephV" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建通知"><span class="nav-number">1.</span> <span class="nav-text">创建通知</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#必须的通知内容"><span class="nav-number">1.1.</span> <span class="nav-text">必须的通知内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可选通知内容设置"><span class="nav-number">1.2.</span> <span class="nav-text">可选通知内容设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通知操作"><span class="nav-number">1.3.</span> <span class="nav-text">通知操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通知优先级"><span class="nav-number">1.4.</span> <span class="nav-text">通知优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建简单通知"><span class="nav-number">1.5.</span> <span class="nav-text">创建简单通知</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#管理通知"><span class="nav-number">2.</span> <span class="nav-text">管理通知</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#更新通知"><span class="nav-number">2.1.</span> <span class="nav-text">更新通知</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZephV</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
